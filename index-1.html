<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>PPT Karaoke | Unsplash</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/night.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
		<style>
			div.overlay { position:absolute; bottom:0; right:0; z-index: 1000;}
			.reveal h1, .reveal h2 { text-shadow: black 2px 5px;}
			.reveal img {max-height: 60vh;}
			.reveal div.desc { position:fixed; bottom:0; width:100%; display: flex; justify-content: center; z-index: 2000;}
		</style>

		<script>
			// Function to get query variables from the URL
			function getQueryVariable(variable) {
				const query = window.location.search.substring(1);
				const vars = query.split('&');
				for (let i = 0; i < vars.length; i++) {
					const pair = vars[i].split('=');
					if (decodeURIComponent(pair[0]) === variable) {
						return decodeURIComponent(pair[1]);
					}
				}
				return null;
			}

			document.addEventListener('DOMContentLoaded', () => {
				// Delay execution until initSlideshow is available
				if (typeof window.initSlideshow === 'function') {
					const slides = getQueryVariable('slides') || 5;
					const delay = getQueryVariable('delay') || 10;
					const ai = getQueryVariable('ai') || 'false';

					window.initSlideshow({ slides, delay, ai });
				} else {
					console.error('initSlideshow is not available.');
				}
			});
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides" id="slides-container">
				<div class="overlay">
					<img src="img/placeholder_logo.png" width="100px">
				</div>
				<section id="autogenSlides">
					<!-- Slides will be inserted here dynamically -->
				</section>
			</div>
		</div>

	<!-- Reveal.js scripts -->
		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
	<!-- Custom JS module for Unsplash integration -->
		<script type="module" src="./index.js"></script>
	</body>
</html>
